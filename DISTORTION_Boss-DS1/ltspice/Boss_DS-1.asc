Version 4
SHEET 1 3584 724
WIRE -624 -288 -624 -304
WIRE -544 -288 -624 -288
WIRE -448 -288 -544 -288
WIRE -448 -272 -448 -288
WIRE 1520 -256 1520 -304
WIRE -624 -192 -624 -288
WIRE -544 -192 -544 -288
WIRE -448 -160 -448 -192
WIRE -336 -160 -336 -304
WIRE -336 -160 -448 -160
WIRE 1520 -160 1520 -192
WIRE -448 -128 -448 -160
WIRE -336 -128 -336 -160
WIRE 2640 -96 2640 -112
WIRE 2864 -96 2864 -112
WIRE 544 -64 544 -96
WIRE 704 -64 704 -80
WIRE 3008 -48 3008 -128
WIRE -624 -32 -624 -128
WIRE -544 -32 -544 -128
WIRE -448 -32 -448 -48
WIRE -336 -32 -336 -64
WIRE 1920 -16 1920 -32
WIRE 1920 -16 1888 -16
WIRE 1952 -16 1920 -16
WIRE 1520 0 1520 -80
WIRE 2640 0 2640 -16
WIRE 2640 0 2592 0
WIRE 2768 0 2640 0
WIRE 2864 0 2864 -16
WIRE 2864 0 2832 0
WIRE 2944 0 2864 0
WIRE 1888 16 1888 -16
WIRE 1952 16 1952 -16
WIRE 0 32 0 -80
WIRE 1136 32 960 32
WIRE 1264 32 1168 32
WIRE 1440 32 1344 32
WIRE 1472 32 1440 32
WIRE 1440 48 1440 32
WIRE 400 64 320 64
WIRE 544 64 544 16
WIRE 544 64 464 64
WIRE 3008 80 3008 48
WIRE 3104 80 3008 80
WIRE 3216 80 3184 80
WIRE 3312 80 3280 80
WIRE 3472 80 3312 80
WIRE 1888 96 1888 80
WIRE 1920 96 1888 96
WIRE 1952 96 1952 80
WIRE 1952 96 1920 96
WIRE 3008 96 3008 80
WIRE 3312 96 3312 80
WIRE 112 112 112 -96
WIRE 1008 112 1008 96
WIRE 1216 112 1216 96
WIRE 960 128 960 32
WIRE 976 128 960 128
WIRE 1168 128 1168 32
WIRE 1184 128 1168 128
WIRE 1136 144 1136 32
WIRE 1136 144 1040 144
WIRE 1440 144 1440 112
WIRE 1440 144 1248 144
WIRE 1520 144 1520 80
WIRE 1520 144 1440 144
WIRE 1632 144 1520 144
WIRE 1760 144 1712 144
WIRE 1920 144 1920 96
WIRE 1920 144 1824 144
WIRE 2048 144 1920 144
WIRE 2192 144 2048 144
WIRE 2416 144 2192 144
WIRE -240 160 -272 160
WIRE -128 160 -160 160
WIRE 0 160 0 112
WIRE 0 160 -64 160
WIRE 48 160 0 160
WIRE 320 160 320 64
WIRE 400 160 320 160
WIRE 544 160 544 64
WIRE 544 160 480 160
WIRE 608 160 544 160
WIRE 704 160 704 16
WIRE 704 160 672 160
WIRE 768 160 704 160
WIRE 912 160 848 160
WIRE 976 160 912 160
WIRE 1136 160 1136 144
WIRE 1184 160 1136 160
WIRE 2416 160 2416 144
WIRE 544 192 544 160
WIRE 1008 192 1008 176
WIRE 1216 192 1216 176
WIRE 2048 192 2048 144
WIRE 2192 192 2192 144
WIRE 2592 192 2592 0
WIRE 2800 192 2592 192
WIRE 3008 192 3008 176
WIRE 3312 192 3312 176
WIRE 912 224 912 160
WIRE 112 240 112 208
WIRE 192 240 112 240
WIRE 320 240 320 160
WIRE 320 240 256 240
WIRE 352 240 320 240
WIRE 448 240 416 240
WIRE 480 240 448 240
WIRE 2416 272 2416 240
WIRE 2416 272 2320 272
WIRE 2048 288 2048 256
WIRE 2192 304 2192 256
WIRE 2320 304 2320 272
WIRE 2416 320 2416 272
WIRE 912 336 912 288
WIRE 112 368 112 240
WIRE 320 368 320 240
WIRE 448 368 448 240
WIRE 544 368 544 288
WIRE 2608 368 2464 368
WIRE 2320 384 2320 368
WIRE 2192 464 2192 384
WIRE 2416 464 2416 400
WIRE 2416 464 2192 464
WIRE 112 480 112 448
WIRE 320 480 320 448
WIRE 448 480 448 448
WIRE 544 480 544 448
WIRE 2608 480 2608 368
WIRE 2416 496 2416 464
WIRE 2688 528 2656 528
WIRE 2800 528 2800 192
WIRE 2800 528 2768 528
WIRE 2416 624 2416 576
WIRE 2608 624 2608 560
FLAG -272 160 INPUT
FLAG 112 480 0
FLAG 320 480 0
FLAG 448 480 0
FLAG 544 480 0
FLAG 112 -96 +9
FLAG 544 -96 +9
FLAG 0 -80 +4.5
FLAG 912 336 0
FLAG 704 -80 +4.5
FLAG 1008 192 0
FLAG 1008 96 +9
FLAG 1216 192 0
FLAG 1216 96 +9
FLAG -336 -304 +4.5
FLAG 1520 -304 0
FLAG 1920 -32 +4.5
FLAG 2048 288 0
FLAG 2320 384 0
FLAG 2640 -112 +4.5
FLAG 2864 -112 +4.5
FLAG 3008 192 0
FLAG 3008 -128 +9
FLAG 3312 192 0
FLAG 3472 80 OUTPUT
FLAG 2416 624 +4.5
FLAG 2608 624 +4.5
FLAG -608 304 0
FLAG -608 224 INPUT
FLAG -624 -304 +9
FLAG -624 -32 0
FLAG -544 -32 0
FLAG -448 -32 0
FLAG -336 -32 0
FLAG -800 304 0
FLAG -800 224 +9
SYMBOL res -144 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL res 16 128 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value 470k
SYMBOL res 128 464 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL cap -64 144 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 47n
SYMBOL npn 48 112 R0
SYMATTR InstName Q1
SYMATTR Value 2SC2240
SYMBOL cap 256 224 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 0.47µ
SYMBOL cap 416 224 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 47n
SYMBOL res 336 464 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL res 464 464 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R5
SYMATTR Value 100k
SYMBOL npn 480 192 R0
SYMATTR InstName Q2
SYMATTR Value 2SC2240
SYMBOL res 496 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 470k
SYMBOL cap 464 48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 260p
SYMBOL res 560 32 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL res 528 352 R0
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL cap 672 144 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 68n
SYMBOL res 864 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R39
SYMATTR Value 47k
SYMBOL res 720 32 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R10
SYMATTR Value 100k
SYMBOL diode 928 288 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D8
SYMATTR Value 1N4148
SYMBOL res 1360 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL cap 1456 112 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C7
SYMATTR Value 100p
SYMBOL diode -608 -128 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N4001
SYMBOL polcap -560 -192 R0
WINDOW 3 24 56 Left 2
SYMATTR Value 100µ
SYMATTR InstName C23
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=2 Irms=3 Rser=0.011 Lser=0 mfg="Rubycon" pn="2SXB100M" type="Al electrolytic"
SYMBOL polcap -352 -128 R0
WINDOW 3 24 56 Left 2
SYMATTR Value 47µ
SYMATTR InstName C15
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=2.5 Irms=1.11555 Rser=0.09 Lser=0 mfg="KEMET" pn="T520A476M2R5ATE090" type="Tantalum"
SYMBOL res -464 -288 R0
SYMATTR InstName R24
SYMATTR Value 10K
SYMBOL res -464 -144 R0
SYMATTR InstName R25
SYMATTR Value 10K
SYMBOL res 1504 -176 R0
SYMATTR InstName R11
SYMATTR Value 4.7k
SYMBOL cap 1504 -256 R0
SYMATTR InstName C8
SYMATTR Value 0.47µ
SYMBOL res 1728 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 2.2k
SYMBOL cap 1824 128 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C9
SYMATTR Value 0.47µ
SYMBOL diode 1936 16 R0
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL diode 1904 80 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMATTR Value 1N4148
SYMBOL cap 2032 192 R0
SYMATTR InstName C10
SYMATTR Value 0.01µ
SYMBOL cap 2176 192 R0
SYMATTR InstName C11
SYMATTR Value 0.022µ
SYMBOL res 2400 144 R0
SYMATTR InstName R16
SYMATTR Value 6.8k
SYMBOL res 2176 288 R0
SYMATTR InstName R15
SYMATTR Value 2.2k
SYMBOL res 2400 480 R0
SYMATTR InstName R17
SYMATTR Value 6.8k
SYMBOL cap 2304 304 R0
SYMATTR InstName C12
SYMATTR Value 0.1µ
SYMBOL res 2784 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 10k
SYMBOL cap 2832 -16 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C13
SYMATTR Value 0.047µ
SYMBOL npn 2944 -48 R0
SYMATTR InstName Q3
SYMATTR Value 2SC2240
SYMBOL res 2992 80 R0
SYMATTR InstName R21
SYMATTR Value 10k
SYMBOL res 3200 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 1k
SYMBOL cap 3280 64 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C14
SYMATTR Value 1µ
SYMBOL res 3296 80 R0
SYMATTR InstName R23
SYMATTR Value 100k
SYMBOL res 2624 -112 R0
SYMATTR InstName R19
SYMATTR Value 1Meg
SYMBOL res 2848 -112 R0
SYMATTR InstName R20
SYMATTR Value 1Meg
SYMBOL voltage -608 208 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value SINE(0 0.132 1k)
SYMBOL voltage -800 208 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 9
SYMBOL pot 1536 96 R180
WINDOW 0 -40 94 Left 2
WINDOW 3 -240 57 Left 2
SYMATTR InstName VR1
SYMATTR Value Rtot=100k wiper=0.5
SYMBOL pot 2400 304 R0
WINDOW 0 38 19 Left 2
WINDOW 3 35 98 Left 2
SYMATTR InstName VR3
SYMATTR Value Rtot=20K wiper=.5
SYMBOL pot 2592 464 R0
WINDOW 0 -43 53 Left 2
WINDOW 3 36 8 Left 2
SYMATTR InstName VR2
SYMATTR Value Rtot=100K wiper=.5
SYMBOL OpAmps\\opamp2 1216 80 R0
SYMATTR InstName U3
SYMATTR Value lmx58_lm2904
SYMBOL OpAmps\\opamp2 1008 80 R0
SYMATTR InstName U1
SYMATTR Value lmx58_lm2904
TEXT -680 616 Left 2 !.tran 5m
TEXT 1128 576 Left 2 !.include pot.sub
TEXT 1120 632 Left 2 !.include C:\\Users\\user\\AppData\\Local\\LTspice\\lib\\sub\\lmx58_lm2904.lib
TEXT -456 576 Left 2 !;ac dec 101 1k 1Meg
